#OSI七层模型
https://blog.csdn.net/qq_16093323/article/details/79582554
##物理层
		中继器、集线器
##数据链路层
		二层交换机、网桥  ，负责MAC地址
##网络层
		路由器 ， 负责IP地址
##传输层
##会话层
##表示层
##应用层


#局域网
Ethernet（以太网），是目前部署最广泛的局域网


#广域网
多个局域网通过路由器连接起来形成广域网


#互联网
Internet是指国际互联网，是由全世界的局域网、城域网、广域网通过各种通信工具联在一起形成的。Ethernet是Internet的一个组成部分


#ip地址
##五类
A 0.0.0.0~127.255.255.255
B 128.0.0.0~191.255.255.255
C 192.0.0.0~223.255.255.255
D 224.0.0.0~239.255.255.255  组播地址（一对多的通信）
E 240.0.0.0~255.255.255.255  保留地址，供以后使用
ABC三类IP由网络地址加主机地址组成，A类第一节为网络地址，B类为前两节，C类为前三节
##特殊
###0.0.0.0
网络中0.0.0.0的IP地址表示整个网络，即网络中的所有主机。它的作用是帮助路由器发送路由表中无法查询的包。如果设置了全零网络的路由，路由表中无法查询的包都将送到全零网络的路由中去
###127.0.0.1 localhost
localhost是127.0.0.1的域名，在/etc/hosts中可以找到
127.0.0.1是回送地址，指本地机


#MAC位址
以太网地址（Ethernet Address）或物理地址（Physical Address）


#广播域（LAN）
广播帧所能传递到的范围，即通信范围
##广播帧
目标MAC地址全为1  类似广播地址


#虚拟广播域（VLAN）
使用路由器分割后的LAN


#广播地址
IP网络上发送信息都是要有IP地址的，如果一个网络内有10台电脑，其中一台电脑要给所有的电脑发送信息，如果没有广播功能，那这台电脑需要发出9条信息，分别以9台电脑的地址标识。有了广播就方便了，发一个信息就好了，以广播地址标识，其他电脑都可以接收到。
广播地址只是一个标识,在数据包里面,如果目的地址是广播地址的话,就会向整个同一网段的主机发送广播包
广播地址可以通过IP地址和子网掩码算出

#子网掩码
必须和IP地址结合使用
默认子网掩码，A类IP默认子网掩码为255.0.0.0，B类为255.255.0.0，C类为255.255.255.0
##计算方法
ip地址以及子网掩码两者的二进制表示进行与运算可得出网络地址
如192.168.0.105和255.255.255.0
因为子网掩码第四段的二进制为00000000
所以网络地址为192.168.0

广播地址求法
将ip地址中的网络地址不变，主机地址变为全1
192.168.0.105的广播地址则为192.168.0.255

若两个IP的网络地址相同，则两个IP存在于同一个子网当中

#ARP协议/RARP协议  (Adress Resolution Protocol)，地址解释协议
https://www.cnblogs.com/csguo/p/7527303.html
https://blog.csdn.net/u013819875/article/details/80546738
一台主机需要通过IP地址向局域网中的所有主机发送数据包并根据应答包确定IP地址对应的MAC地址
一般情况下，上层应用程序更多关心IP地址而不关心MAC地址，所以需要通过ARP协议来获知目的主机的MAC地址，完成数据封装
##arp请求
以ping为例，ping发送出去的数据包必须包含本机的IP和MAC地址，以及目标的IP和MAC地址
所以在ping 某个ip时，如果本地 ARP缓存表没有该ip对应的MAC地址时，会发起一次ARP请求
##局域网多台主机下的ARP请求
多台主机的情况下，arp协议会使用广播功能，将请求包以广播包的形式发送，交换机或WIFI收到广播包时，
会将此数据发送给同一局域网的其他所有主机
###arp数据包解读
主机1 <--> 主机2
Sender IP
Sender MAC
target IP
target MAC
###请求过程
在发送者发送请求包后，通过广播功能同局域网内的所有主机将收到请求包。
主机收到请求包后对比自己的IP和target IP,若IP相同，则封装并发送回应包
发送者收到回应包后，将ip和对应的MAC地址写入ARP缓存表
若收到多个回应包，则以后者为准

##ARP攻击
能达到断网或窃取信息的效果
###被动欺骗原理
某局域网存在PC1，PC2，PC3。PC3为攻击者。
当PC1在局域网中发送广播寻找PC2时，PC3在事先会开启监听收到广播包后开始伪造回应包。
PC3会重复发送伪造的回应包，因为后到优先，所以PC1会将伪造包写入arp缓存表。
此时，重点是交换机也会将对应的MAC地址存入自己的CAM表中。
当下次P1要与P2通信时，P1将数据包发送给交换机，交换机再基于数据包的MAC地址和CAM表的MAC地址将数据包
转发给P3。
这个过程，PC1的ARP表和交换机的CAM表都变化了。
###主动欺骗原理
某局域网存在PC1，PC2，网关。PC2为攻击者。
1.PC2发送arp包告诉PC1,自己的MAC地址就是网关的MAC地址，PC1记录入缓存表后，会将所有的请求包都发送到PC2
2.PC2同样告诉网关，自己的MAC地址就是PC1的MAC地址，网关就会将的PC1的数据包都发送到PC2
3.这时已经形成了双向欺骗，PC1目前处于断网状态
4.如若PC2开启自己的IP转发功能，将A发过来的数据包发给B，将B的数据包发给A,则可以作为监听作用。

##ARP防御
##代理ARP
##免费ARP


#HTTP
##non-persistent connection
每队客户-服务器建立独立的链接
##persistent connection
长链接

#web-cache

#DNS

#与，异，异或运算
##与运算
0&0=0  0&1=0  1&0=0  1&1=1
3 = 011
5 = 101
3&5 = 001
##或运算
0|0=0  0|1=1  1|0=0  1|1=1
3 = 011
5 = 101
3|5 = 111
##异或
0^0=1 1^0=1  0^1=1  1^1=0


#TCP/IP模型-应用层
##主要应用
进程通信
##client-server服务架构
##peer-to-peer  P2P  对等网络架构
P2P是指网上各台计算机有相同的功能，无主从之分，一台计算机都是既可作为服务器，也可作为客户端。
##socket
socket存在于用户进程和tcp/udp之间，它封装好了tcp/udp里的东西
socket基于IP和端口进行通信
socket是计算机内应用层与传输层的接口
##应用层协议
	```
	HTTP：	使用TCP作为传输层协议，socket作为通讯工具
					无状态协议，当有一个客户端连续两次请求同一个对象，他就会回复两次
					有短连接和长连接
					Cookies
					Web Caching  --CDN
					If-Modified-Since
	FTP： 使用TCP作为传输层协议
	SMTP：使用TCP作为传输层协议
	DNS：分布式
				 DNS服务器分三类：root server, TLD server , understand server
				 每条DNS记录包含：Name，Value，Type，TTL(该记录的有效时间)
				 Type的种类有：A，NS，CNAME，MX
	```


#TCP/IP模型-传输层
##传输层为应用层提供的服务
因为socket是应用层与传输层的接口
传输层协议所能提供的服务主要分为四部分，reliable data transfer ，throughput ，timing ，and security 。
###Reliable data transfer
当信息没有送达，可以重新发送
###Throughput （吞吐量）
发送方可以发送信息到接收方的速率就是吞吐量
###Timing
数据发送的时间保障
###Security
数据安全，例如加密

##传输层协议
###TCP
####	特性
	```
	Connection-oriented service ：面向链接,就是TCP的几次握手
	Reliable data transfer service：确保数据送达
	```
###UDP
轻量级的传输层协议
